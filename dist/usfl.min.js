!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.usfl=t()}(this,function(){"use strict";function e(e,t){for(var n=[],i=0;i<e;i++){var r=void 0!==t?t:i;n.push(r)}return n}function t(e,t){var n=e.replace(ae,""),i=t.replace(ae,"");return Number(n)-Number(i)}function n(){var e=document.body,t=document.documentElement;return Math.max(e.scrollHeight||0,e.offsetHeight||0,e.clientHeight||0,t.clientHeight||0,t.offsetHeight||0,t.scrollHeight||0)}function i(){return window.pageYOffset||document.documentElement.scrollTop}function r(){var e=document.body;return Math.abs(i()-(e.scrollHeight-e.clientHeight))}function o(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function s(e){return"function"==typeof e}function u(e){return"number"==typeof e}function a(e){return"object"===(void 0===e?"undefined":de(e))&&null!==e}function c(e){return void 0===e}function d(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1.70158;return n*(e/=i)*e*((r+1)*e-r)+t}function h(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1.70158;return n*((e=e/i-1)*e*((r+1)*e+r)+1)+t}function l(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1.70158;return(e/=i/2)<1?n/2*(e*e*((1+(r*=1.525))*e-r))+t:n/2*((e-=2)*e*((1+(r*=1.525))*e+r)+2)+t}function f(e,t,n,i){return(e/=i)<1/2.75?n*(7.5625*e*e)+t:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t}function v(e,t,n,i){return n-f(i-e,0,n,i)+t}function p(e,t,n,i){return e<i/2?.5*v(2*e,0,n,i)+t:.5*f(2*e-i,0,n,i)+.5*n+t}function m(e,t,n,i){return-n*(xe(1-(e/=i)*e)-1)+t}function g(e,t,n,i){return n*xe(1-(e=e/i-1)*e)+t}function y(e,t,n,i){return(e/=i/2)<1?-n/2*(xe(1-e*e)-1)+t:n/2*(xe(1-(e-=2)*e)+1)+t}function w(e,t,n,i){return n*(e/=i)*e*e+t}function b(e,t,n,i){return n*((e=e/i-1)*e*e+1)+t}function x(e,t,n,i){return(e/=i/2)<1?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t}function E(e,t,n,i,r,o){var s=void 0;return 0===e?t:1==(e/=i)?t+n:(o||(o=.3*i),!r||r<Ce(n)?(r=n,s=o/4):s=o/Ie*Le(n/r),-r*Ae(2,10*(e-=1))*Me((e*i-s)*Ie/o)+t)}function _(e,t,n,i,r,o){var s=void 0;return 0===e?t:1==(e/=i)?t+n:(o||(o=.3*i),!r||r<Ce(n)?(r=n,s=o/4):s=o/Ie*Le(n/r),r*Ae(2,-10*e)*Me((e*i-s)*Ie/o)+n+t)}function C(e,t,n,i,r,o){var s=void 0;return 0===e?t:2==(e/=i/2)?t+n:(o||(o=i*(.3*1.5)),!r||r<Ce(n)?(r=n,s=o/4):s=o/Ie*Le(n/r),e<1?r*Ae(2,10*(e-=1))*Me((e*i-s)*Ie/o)*-.5+t:r*Ae(2,-10*(e-=1))*Me((e*i-s)*Ie/o)*.5+n+t)}function L(e,t,n,i){return 0===e?t:n*Te(2,10*(e/i-1))+t}function O(e,t,n,i){return e===i?t+n:n*(1-Te(2,-10*e/i))+t}function A(e,t,n,i){return 0===e?t:e===i?t+n:(e/=i/2)<1?n/2*Te(2,10*(e-1))+t:n/2*(2-Te(2,-10*--e))+t}function M(e,t,n,i){return n*e/i+t}function I(e,t,n,i){return n*(e/=i)*e+t}function S(e,t,n,i){return-n*(e/=i)*(e-2)+t}function T(e,t,n,i){return(e/=i/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t}function k(e,t,n,i){return n*(e/=i)*e*e*e+t}function P(e,t,n,i){return-n*((e=e/i-1)*e*e*e-1)+t}function R(e,t,n,i){return(e/=i/2)<1?n/2*e*e*e*e+t:-n/2*((e-=2)*e*e*e-2)+t}function U(e,t,n,i){return n*(e/=i)*e*e*e*e+t}function N(e,t,n,i){return n*((e=e/i-1)*e*e*e*e+1)+t}function F(e,t,n,i){return(e/=i/2)<1?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t}function D(e,t,n,i){return-n*Fe(e/i*Be)+n+t}function j(e,t,n,i){return n*je(e/i*Be)+t}function B(e,t,n,i){return-n/2*(Fe(De*e/i)-1)+t}function z(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return"string"==typeof e?e:"number"==typeof e?"rgba("+e+","+n+","+t+","+i+")":null}function H(e,t){var n=document.createElement("script");return n.src=e,n.addEventListener("load",function(){return t(null,e)}),n.addEventListener("error",function(){return t(!0,e)}),document.body.appendChild(n),n}function q(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&!Ze()?new Promise(function(){}):new Promise(function(e,t){H("https://cdnjs.cloudflare.com/ajax/libs/dat-gui/0.6.1/dat.gui.min.js",function(n,i){if(n)t(new Error("Error loading script"));else{var r=new window.dat.GUI({autoPlace:!0}),o=document.createElement("style");document.head.appendChild(o);var s=o.sheet;s.insertRule(".dg.ac {overflow: visible !important; z-index:10000 !important}",0),s.insertRule(".dg * {font-size:11px !important}",0),s.insertRule(".dg input {font:11px Lucida Grande,sans-serif !important}",0),e(r)}})})}function W(e){return decodeURIComponent(e.replace(et," "))}function V(e){return Array.isArray(e)?function(t){return e.includes(t)}:"function"==typeof e?function(t){return e(t)}:function(t){return t===e}}function G(){function e(e){return e.next&&(e.next.prev=e.prev),e.prev&&(e.prev.next=e.next),e===i&&(i=e.next),e===r&&(r=e.prev),e.next=e.prev=null,e}function t(t,n){return e(t),t.prev=n,t.next=n.next,n.next?n.next.prev=t:r=t,n.next=t,t}function n(e){if(i){for(var n=i;n.next;)n=n.next;t(e,n)}else i=r=e;return e}var i=void 0,r=void 0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(e){return n(e)}),{get first(){return i},getFirst:function(){return i},get last(){return r},getLast:function(){return r},get length(){return this.getCount()},getCount:function(){for(var e=0,t=i;t;)e++,t=t.next;return e},add:n,remove:e,insertAfter:t,insertBefore:function(t,n){return e(t),t.prev=n.prev,t.next=n,n.prev?n.prev.next=t:i=t,n.prev=t,t},forEach:function(e){for(var t=i;t;)e(t),t=t.next},map:function(e){for(var t=G(),n=i;n;)t.add(e(n)),n=n.next;return t}}}function Y(e,t){return e._head?(e._tail._next=t,t._prev=e._tail,e._tail=t):(e._head=t,e._tail=t),t._owner=e,t}function Q(e,t,n){if(t>n){var i=t;t=n,n=i}return e<t?t:e>n?n:e}function K(e,t){return isNaN(t)&&(t=e,e=0),e+Math.random()*(t-e)}function X(e,t,n,i,r){switch(e){case"cover":return Math.max(i/t,r/n);case"contain":return Math.min(i/t,r/n);case"width":return i/t;case"height":return r/n}return 1}function J(e,t,n){var i=Q((n-e)/(t-e),0,1);return i*i*(3-2*i)}function $(e){var t=[],n=0;return{getPool:function(){return t},get:function(){return t.length>0?t.pop():(n++,e())},dispose:function(e){t.push(e)},fill:function(i){for(;t.length<i;)n++,t[t.length]=e()},empty:function(){t=[]},getNumCreated:function(){return n}}}function Z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined"!=typeof navigator&&navigator.userAgent,t=0;return/MSIE (\d+\.\d+);/.test(e)?t=parseInt(RegExp.$1,10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(e)&&(t=parseInt(RegExp.$3,10)),t}function ee(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:800,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:600,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=(window.screen.width-t)/2,o="width="+t+",height="+n+",top="+(window.screen.height-n)/2+",left="+r+",directories=no,location=no,menubar=no,resizable=no,scrollbars=no,status=no,toolbar=no",s=window.open(e,i,o);return null!==s&&void 0!==s&&(window.focus&&s.focus(),!0)}function te(e){var t=null;try{t=localStorage.getItem(e)}catch(e){}return t}function ne(e,t){try{return localStorage.setItem(e,t),!0}catch(e){}return!1}function ie(e){return e.replace(/(\]|\[|\{|\}|\(|\)|\*|\+|\?|\.|\\)/g,"\\$1")}function re(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"...";t-=n.length;var i=e;return i.length>t&&(i=i.substr(0,t),/[^\s]/.test(e.charAt(t))&&(i=i.replace(/\w+$|\s+$/,"").trimRight()),i+=n),i}function oe(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.trimLeft(),i=t?/^.|\b./g:/(^\w)/;return n.replace(i,function(e){return e.toUpperCase()})}function se(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e===t)return 0;if(!e.length)return t.length;if(!t.length)return e.length;var n=[],i=void 0,r=void 0,o=void 0;for(i=0;i<=e.length;i++)n[i]=[];for(i=0;i<=e.length;i++)n[i][0]=i;for(r=0;r<=t.length;r++)n[0][r]=r;for(i=1;i<=e.length;i++){var s=e.charAt(i-1);for(r=1;r<=t.length;r++)o=s===t.charAt(r-1)?0:1,n[i][r]=Math.min(n[i-1][r]+1,n[i][r-1]+1,n[i-1][r-1]+o)}return n[e.length][t.length]}function ue(e){return e.trim().replace(/\s+/g," ")}!function(){if("undefined"!=typeof document){var e=document.createElement("_");if(e.classList.add("c1","c2"),!e.classList.contains("c2")){var t=function(e){var t=window.DOMTokenList.prototype[e];window.DOMTokenList.prototype[e]=function(e){var n=void 0,i=arguments.length;for(n=0;n<i;n++)e=arguments[n],t.call(this,e)}};t("add"),t("remove")}if(e.classList.toggle("c3",!1),e.classList.contains("c3")){var n=window.DOMTokenList.prototype.toggle;window.DOMTokenList.prototype.toggle=function(e,t){return t=!!t,arguments.length>1&&this.contains(e)===t?t:n.call(this,e)}}e=null}}(),function(e){"undefined"!=typeof window&&(window.console=window.console||{},["assert","clear","count","debug","dir","dirxml","error","group","groupCollapsed","groupEnd","info","log","markTimeline","memory","profile","profileEnd","table","time","timeEnd","timeStamp","timeline","timelineEnd","trace","warn"].forEach(function(t){window.console[t]=window.console[t]||e}))}(function(){}),function(){if("undefined"!=typeof window&&!window.requestAnimationFrame)for(var e=["ms","moz","webkit","o"],t=0;t<e.length&&!window.requestAnimationFrame;++t)window.requestAnimationFrame=window[e[t]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[t]+"CancelAnimationFrame"]||window[e[t]+"CancelRequestAnimationFrame"]}();var ae=/[^0-9.-]/g,ce={array:e,clone:function(e){return e.slice(0)},moveElement:function(e,t,n){var i=(e=e.slice(0)).splice(t,1)[0],r=n<0?e.length+n:n;return e.splice(r,0,i),e},nearest:function(e,t){var n=Number.MAX_VALUE;return t.reduce(function(t,i){var r=Math.abs(i-e);return r<n&&(n=r,t=i),t},-1)},randomChoice:function(e){return e[Math.floor(Math.random()*e.length)]},sortAlpha:function(e,t){return 1===arguments.length?function(t,n){return String(t[e]).toLowerCase()>String(n[e]).toLowerCase()?1:-1}:String(e).toLowerCase()>String(t).toLowerCase()?1:-1},sortNumbered:function(e,n){return 1===arguments.length?function(n,i){return t(n[e],i[e])}:t(e,n)},sortNumeric:function(e,t){return 1===arguments.length?function(t,n){return Number(t[e])-Number(n[e])}:Number(e)-Number(t)},sortRandom:function(){return Math.random()>.5?-1:1}},de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},he=(function(){function e(e){this.value=e}function t(t){function n(r,o){try{var s=t[r](o),u=s.value;u instanceof e?Promise.resolve(u.value).then(function(e){n("next",e)},function(e){n("throw",e)}):i(s.done?"return":"normal",s.value)}catch(e){i("throw",e)}}function i(e,t){switch(e){case"return":r.resolve({value:t,done:!0});break;case"throw":r.reject(t);break;default:r.resolve({value:t,done:!1})}(r=r.next)?n(r.key,r.arg):o=null}var r,o;this._invoke=function(e,t){return new Promise(function(i,s){var u={key:e,arg:t,resolve:i,reject:s,next:null};o?o=o.next=u:(r=o=u,n(e,t))})},"function"!=typeof t.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke("next",e)},t.prototype.throw=function(e){return this._invoke("throw",e)},t.prototype.return=function(e){return this._invoke("return",e)}}(),function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}),le=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),fe=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},ve=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},pe=o;o.EventEmitter=o,o.prototype._events=void 0,o.prototype._maxListeners=void 0,o.defaultMaxListeners=10,o.prototype.setMaxListeners=function(e){if(!u(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},o.prototype.emit=function(e){var t,n,i,r,o,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var d=new Error('Uncaught, unspecified "error" event. ('+t+")");throw d.context=t,d}if(n=this._events[e],c(n))return!1;if(s(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:r=Array.prototype.slice.call(arguments,1),n.apply(this,r)}else if(a(n))for(r=Array.prototype.slice.call(arguments,1),i=(u=n.slice()).length,o=0;o<i;o++)u[o].apply(this,r);return!0},o.prototype.addListener=function(e,t){var n;if(!s(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,s(t.listener)?t.listener:t),this._events[e]?a(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,a(this._events[e])&&!this._events[e].warned&&(n=c(this._maxListeners)?o.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0),this},o.prototype.on=o.prototype.addListener,o.prototype.once=function(e,t){function n(){this.removeListener(e,n),i||(i=!0,t.apply(this,arguments))}if(!s(t))throw TypeError("listener must be a function");var i=!1;return n.listener=t,this.on(e,n),this},o.prototype.removeListener=function(e,t){var n,i,r,o;if(!s(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],r=n.length,i=-1,n===t||s(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(a(n)){for(o=r;o-- >0;)if(n[o]===t||n[o].listener&&n[o].listener===t){i=o;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},o.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],s(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},o.prototype.listeners=function(e){return this._events&&this._events[e]?s(this._events[e])?[this._events[e]]:this._events[e].slice():[]},o.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(s(t))return 1;if(t)return t.length}return 0},o.listenerCount=function(e,t){return e.listenerCount(t)};var me=function(e){function t(){he(this,t);var n=ve(this,e.call(this));return n.setMaxListeners(20),n}return fe(t,e),t.prototype.off=function(e,t){return t?this.removeListener(e,t):e?this.removeAllListeners(e):this.removeAllListeners()},t}(pe.EventEmitter),ge=Object.create(me.prototype),ye={blockScrolling:function(e){document.body.style.overflow=e?"hidden":""},elCoords:function(e){var t=e.getBoundingClientRect(),n=document.body,i=document.documentElement,r=window.pageYOffset||i.scrollTop||n.scrollTop,o=window.pageXOffset||i.scrollLeft||n.scrollLeft,s=i.clientTop||n.clientTop||0,u=i.clientLeft||n.clientLeft||0,a=t.top+r-s,c=t.left+o-u;return{top:Math.round(a),left:Math.round(c),x:Math.round(c),y:Math.round(a)}},forceRedraw:function(e){var t=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=t},getPageHeight:n,getScrollPercentage:function(){return(i()+window.innerHeight)/document.body.clientHeight},getScrollRemaining:r,getScrollTop:i,getSrcsetImage:function(e,t){t=t||window.innerWidth*(window.devicePixelRatio||0);var n=e.split(",").map(function(e){var t=e.trim().split(/\s+/),n=t[0],i=t[1];return{url:n,size:parseInt(i.slice(0,-1),10)}}).sort(function(e,t){return t.size-e.size});return n.length?n.reduce(function(e,n){return n.size>=t?n.url:e},n[0].url):""},isElementInViewport:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.getBoundingClientRect();return n.top>=0-t&&n.left>=0-t&&n.bottom<=window.innerHeight+t&&n.right<=window.innerWidth+t},isPageEnd:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return r()<=e},resize:function(){function e(){clearTimeout(c),c=window.setTimeout(function(){return r()},a)}function t(){window.addEventListener("resize",e,!1)}var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.onResize,r=void 0===i?function(){return ge.emit("resize")}:i,o=n.callNow,s=void 0!==o&&o,u=n.debouceDelay,a=void 0===u?500:u,c=null;return t(),s&&e(),{start:t,stop:function(){window.removeEventListener("resize",e)}}},scroll:function(){function e(){clearTimeout(p),p=window.setTimeout(function(){return a(f)},l),s(f),v=!1}function t(){v||(window.requestAnimationFrame(e),v=!0)}function n(){f=window.pageYOffset||document.documentElement.scrollTop,t()}function i(){window.addEventListener("scroll",n,!1)}var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=r.onScroll,s=void 0===o?function(e){return ge.emit("scroll",e)}:o,u=r.onScrollEnd,a=void 0===u?function(e){return ge.emit("scrollend",e)}:u,c=r.callNow,d=void 0!==c&&c,h=r.endTimeout,l=void 0===h?200:h,f=0,v=!1,p=void 0;return i(),d&&n(),{start:i,stop:function(){window.removeEventListener("scroll",n)}}},setStyle:function(e,t){return Object.keys(t).forEach(function(n){e.style[n]=t[n]}),e},transitionEnd:function(e,t){function n(){window.clearTimeout(r),e.removeEventListener("transitionend",n),e.removeEventListener("webkitTransitionEnd",n),t()}var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=null;void 0!==e.style.transition?e.addEventListener("transitionend",n):void 0!==e.style.WebkitTransition&&e.addEventListener("webkitTransitionEnd",n),r=window.setTimeout(n,i)}},we={easeIn:d,easeOut:h,easeInOut:l},be={easeIn:v,easeOut:f,easeInOut:p},xe=Math.sqrt,Ee={easeIn:m,easeOut:g,easeInOut:y},_e={easeIn:w,easeOut:b,easeInOut:x},Ce=Math.abs,Le=Math.asin,Oe=Math.PI,Ae=Math.pow,Me=Math.sin,Ie=2*Oe,Se={easeIn:E,easeOut:_,easeInOut:C},Te=Math.pow,ke={easeIn:L,easeOut:O,easeInOut:A},Pe={easeIn:M,easeOut:M,easeInOut:M},Re={easeIn:I,easeOut:S,easeInOut:T},Ue={easeIn:k,easeOut:P,easeInOut:R},Ne={easeIn:U,easeOut:N,easeInOut:F},Fe=Math.cos,De=Math.PI,je=Math.sin,Be=De/2,ze={back:we,bounce:be,circular:Ee,cubic:_e,elastic:Se,expo:ke,linear:Pe,quad:Re,quart:Ue,quint:Ne,sine:{easeIn:D,easeOut:j,easeInOut:B},easeLinear:M,easeInBack:d,easeOutBack:h,easeInOutBack:l,easeInBounce:v,easeOutBounce:f,easeInOutBounce:p,easeInCircular:m,easeOutCircular:g,easeInOutCircular:y,easeInCubic:w,easeOutCubic:b,easeInOutCubic:x,easeInElastic:E,easeOutElastic:_,easeInOutElastic:C,easeInExpo:L,easeOutExpo:O,easeInOutExpo:A,easeInQuad:I,easeOutQuad:S,easeInOutQuad:T,easeInQuart:k,easeOutQuart:P,easeInOutQuart:R,easeInQuint:U,easeOutQuint:N,easeInOutQuint:F,easeInSine:D,easeOutSine:j,easeInOutSine:B},He={debounce:function(e){function t(t){e(t),n=!1}var n=!1;return function(e){n||(window.requestAnimationFrame(function(){return t(e)}),n=!0)}},delegateEvents:function(e,t,n,i){if("string"==typeof n){var r=n.toUpperCase();n=function(e){return e.tagName===r}}e.addEventListener(t,function(t){for(var r=t.target;r!==e;){if(n(r)){t.stopImmediatePropagation(),i(r,t);break}r=r.parentNode}})},emitter:me,eventBus:ge,heartbeat:function(e){var t=null,n=0,i=0,r=0,o=!1;return t=Object.assign(Object.create(me.prototype),{start:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return r=e,n=s,i=0,o=!0,t},stop:function(){return o=!1,t},update:function(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return o?r>0&&i>=r?(o=!1,t.emit("complete"),t):((n+=s)>=e&&(n=0,i++,t.emit("update",i)),t):t},get interval(){return e},set interval(t){e=t},setInterval:function(n){return e=n,t}})}},qe=null,We=null,Ve=null,Ge=null,Ye=null,Qe=null,Ke="undefined"!=typeof document&&document.documentElement||{};void 0!==Ke.requestFullscreen?(qe="requestFullscreen",We="exitFullscreen",Ve="fullscreenchange",Ge="fullscreenerror",Ye="fullscreenElement",Qe="fullscreenEnabled"):void 0!==Ke.mozRequestFullScreen?(qe="mozRequestFullScreen",We="mozCancelFullScreen",Ve="mozfullscreenchange",Ge="mozfullscreenerror",Ye="mozFullScreenElement",Qe="mozFullScreenEnabled"):void 0!==Ke.msRequestFullscreen?(qe="msRequestFullscreen",We="msExitFullscreen",Ve="MSFullscreenChange",Ge="MSFullscreenError",Ye="msFullscreenElement",Qe="msFullscreenEnabled"):void 0!==Ke.webkitRequestFullscreen&&(qe="webkitRequestFullscreen",We="webkitExitFullscreen",Ve="webkitfullscreenchange",Ge="webkitFullscreenError",Ye="webkitFullscreenElement",Qe="webkitFullscreenEnabled");var Xe={request:qe,exit:We,change:Ve,error:Ge,element:Ye,enabled:Qe},Je=Object.create(me.prototype);"undefined"!=typeof document&&(document.addEventListener(Xe.change,function(e){Je.emit("change",e)}),document.addEventListener(Xe.error,function(e){Je.emit("error",e)})),Object.defineProperties(Je,{request:{value:function(e){(e=e||document.documentElement)[Xe.request](!0)}},exit:{value:function(){document[Xe.exit]()}},toggle:{value:function(e){this.isFullscreen?this.exit():this.request(e)}},isSupported:{get:function(){return!!Xe.request}},isFullscreen:{get:function(){return!!document[Xe.element]}},element:{enumerable:!0,get:function(){return document[Xe.element]}},enabled:{enumerable:!0,get:function(){return document[Xe.enabled]}}});var $e=function(){function e(t,n){he(this,e),"object"===(void 0===t?"undefined":de(t))&&"CANVAS"===t.tagName?this.canvas=t:(this.canvas=document.createElement("canvas"),this.size(t,n)),this.ctx=this.canvas.getContext("2d")}return e.prototype.fill=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return this.ctx.fillStyle=z(e,t,n,i),this},e.prototype.stroke=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return this.ctx.strokeStyle=z(e,t,n,i),this},e.prototype.circle=function(e,t,n){var i=this.ctx;return i.beginPath(),i.arc(e,t,n,0,2*Math.PI,!1),i.fill(),this},e.prototype.rect=function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=this.ctx;return 0!==r?(o.save(),o.translate(e+n/2,t+i/2),o.rotate(r),o.beginPath(),o.rect(-n/2,-i/2,n,i),o.fill(),o.stroke(),o.restore()):(o.rect(e,t,n,i),o.fill(),o.stroke()),this},e.prototype.line=function(e,t,n,i){var r=this.ctx;return r.beginPath(),r.moveTo(e,t),r.lineTo(n,i),r.stroke(),this},e.prototype.lineWidth=function(e){return this.ctx.lineWidth=e,this},e.prototype.move=function(e,t){return this.ctx.moveTo(e,t),this},e.prototype.image=function(e,t,n,i){var r=this.ctx;if(i){var o=i.alpha,s=void 0===o?1:o,u=i.rotation,a=void 0===u?0:u,c=i.scale,d=void 0===c?1:c,h=e.width/2,l=e.height/2;r.save(),r.translate(t+h,n+l),r.rotate(a),r.scale(d,d),r.globalAlpha=s,r.drawImage(e,-h,-l),r.restore()}else r.drawImage(e,t,n);return this},e.prototype.text=function(e,t,n){return this.ctx.fillText(e,t,n),this},e.prototype.setFontStyle=function(e,t){this.ctx.font=t+"px "+e},e.prototype.getImageData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments[2],i=arguments[3],r=this.ctx,o=this.canvas;return r.getImageData(e,t,n||o.width,i||o.height)},e.prototype.getPixel=function(e,t){e=Math.floor(e),t=Math.floor(t);var n=this.ctx.getImageData(e,t,1,1).data;return Array.prototype.slice.call(n)},e.prototype.setPixel=function(e,t,n,i,r,o){e=Math.floor(e),t=Math.floor(t);var s=this.getImageData(),u=s.width,a=s.data,c=4*(e+t*u);return a[c+0]=n,a[c+1]=i,a[c+2]=r,a[c+3]=o,this},e.prototype.clearCircle=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,i=this.ctx;return i.save(),i.globalCompositeOperation="destination-out",this.circle(e,t,n),i.globalCompositeOperation="source-over",i.restore(),this},e.prototype.translateAnd=function(e,t,n){var i=this.ctx;return i.save(),i.translate(e,t),n(i),i.restore(),this},e.prototype.clear=function(e,t,n){var i=z(e,t,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:1),r=this.ctx,o=this.canvas,s=o.width,u=o.height;return r.save(),r.setTransform(1,0,0,1,0,0),i?(r.fillStyle=i,r.fillRect(0,0,s,u)):r.clearRect(0,0,s,u),r.beginPath(),r.restore(),this},e.prototype.size=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.innerWidth,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.innerHeight;return this.canvas.width=e,this.canvas.height=t,this},e.prototype.destroy=function(){this.canvas.parentElement&&this.canvas.parentElement.removeChild(this.canvas),this.canvas=null,this.ctx=null},le(e,[{key:"alpha",get:function(){return this.ctx.globalAlpha},set:function(e){this.ctx.globalAlpha=e}},{key:"blendMode",get:function(){return this.ctx.globalCompositeOperation},set:function(e){this.ctx.globalCompositeOperation=e}},{key:"context",get:function(){return this.ctx}}]),e}(),Ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined"!=typeof window&&window.location.href;return/^(?:https?:\/\/)?(?:localhost|192\.168)/.test(e)};q.localHost=Ze;var et=/\+/g,tt=/([^&=]+)=?([^&]*)/g,nt={getLocation:function(e){var t=document.createElement("a");return t.href=e,{hash:t.hash,host:t.host,hostname:t.hostname,pathname:t.pathname,port:t.port,protocol:t.protocol,search:t.search}},jsonp:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3,i=document.createElement("script"),r="jsonp_callback_"+Math.round(1e5*Math.random()),o=e.indexOf("?")>=0?"&":"?",s=window.setTimeout(function(){window[r](null,"jsonp error")},n);window[r]=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;window.clearTimeout(s),delete window[r],document.body.removeChild(i),t(e,n)},i.src=""+e+o+"callback="+r,document.body.appendChild(i)},loadScript:H,urlParams:function(e){e=e||window.location.search.slice(1);for(var t={},n=tt.exec(e);n;)t[W(n[1])]=W(n[2]),n=tt.exec(e);return t},xhr:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"json";return new Promise(function(n,i){var r=new XMLHttpRequest;r.addEventListener("load",function(){var e=r.response;"json"===t&&"string"==typeof e&&(e=JSON.parse(e)),n(e)}),r.addEventListener("error",function(){return i(r.status)}),r.open("GET",e),r.responseType=t,r.send()})}},it={A:"A".charCodeAt(0),B:"B".charCodeAt(0),C:"C".charCodeAt(0),D:"D".charCodeAt(0),E:"E".charCodeAt(0),F:"F".charCodeAt(0),G:"G".charCodeAt(0),H:"H".charCodeAt(0),I:"I".charCodeAt(0),J:"J".charCodeAt(0),K:"K".charCodeAt(0),L:"L".charCodeAt(0),M:"M".charCodeAt(0),N:"N".charCodeAt(0),O:"O".charCodeAt(0),P:"P".charCodeAt(0),Q:"Q".charCodeAt(0),R:"R".charCodeAt(0),S:"S".charCodeAt(0),T:"T".charCodeAt(0),U:"U".charCodeAt(0),V:"V".charCodeAt(0),W:"W".charCodeAt(0),X:"X".charCodeAt(0),Y:"Y".charCodeAt(0),Z:"Z".charCodeAt(0),ZERO:"0".charCodeAt(0),ONE:"1".charCodeAt(0),TWO:"2".charCodeAt(0),THREE:"3".charCodeAt(0),FOUR:"4".charCodeAt(0),FIVE:"5".charCodeAt(0),SIX:"6".charCodeAt(0),SEVEN:"7".charCodeAt(0),EIGHT:"8".charCodeAt(0),NINE:"9".charCodeAt(0),NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_ADD:107,NUMPAD_ENTER:108,NUMPAD_SUBTRACT:109,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,COLON:186,EQUALS:187,UNDERSCORE:189,QUESTION_MARK:191,TILDE:192,OPEN_BRACKET:219,BACKWARD_SLASH:220,CLOSED_BRACKET:221,QUOTES:222,BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CONTROL:17,ALT:18,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,HELP:47,NUM_LOCK:144},rt={clickOutside:function(e,t){function n(e){for(var n=e.target,i=!1;n&&n!==document.body;){if(o(n)){e.stopImmediatePropagation(),i=!0;break}n=n.parentNode}i||t(e)}function i(e){document.body.removeEventListener("click",n),n(e)}function r(){document.body.removeEventListener("click",n),document.body.removeEventListener("touchstart",i)}var o=V(e);return r(),document.body.addEventListener("click",n),document.body.addEventListener("touchstart",i),{destroy:r}},keyboard:it,keyInput:function(){function t(e){var t=Object.keys(it).reduce(function(t,n){return it[n]===e?n:t},"").toLowerCase();t&&s.emit(t.toLowerCase())}function n(e){e.preventDefault(),u[e.keyCode]=!0,s.emit("keydown",e.keyCode),t(e.keyCode)}function i(e){e.preventDefault(),u[e.keyCode]=!1,s.emit("keyup",e.keyCode)}function r(){document.addEventListener("keydown",n,!1),document.addEventListener("keyup",i,!1)}function o(){document.removeEventListener("keydown",n),document.removeEventListener("keyup",i)}var s=Object.create(me.prototype),u=e(256,!1);return r(),Object.assign(s,{keyboard:it,enable:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];o(),e&&r()},isDown:function(e){return u[e]},left:function(){return u[it.LEFT]||u[it.A]},right:function(){return u[it.RIGHT]||u[it.D]},up:function(){return u[it.UP]||u[it.W]},down:function(){return u[it.DOWN]||u[it.S]},space:function(){return u[it.SPACE]}})},microphone:function(){var e=Object.create(me.prototype),t=null,n=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,i=!!n;return Object.assign(e,{connect:function(){i?n({audio:!0},function(n){t=n,e.emit("connect",t)},function(t){"PermissionDeniedError"===t.name||"PERMISSION_DENIED"===t?e.emit("denied"):e.emit("error",t.message||t)}):e.emit("error","Not supported")},disconnect:function(){t&&(t.stop(),t=null)},createWebAudioSource:function(e,n){if(!t)return null;var i=e.createMediaStreamSource(t);return n&&i.connect(n),navigator.mozGetUserMedia&&(window.hack_for_mozilla=i),i},isSupported:function(){return i},stream:function(){return t}})},mouseLeftWindow:function(e){function t(t){var n=t.relatedTarget||t.toElement;n&&"HTML"!==n.nodeName||e(t)}return document.addEventListener("mouseout",t,!1),{destroy:function(){document.removeEventListener("mouseout",t)}}},mouseWheel:function(e){function t(t){var n=t.detail<0||t.wheelDelta>0?1:-1,r=n*e;n>0?i.emit("up",r):i.emit("down",r),i.emit("update",r)}function n(){"onmousewheel"in window?window.addEventListener("mousewheel",t,!1):window.addEventListener&&window.addEventListener("DOMMouseScroll",t,!1)}e=e||2;var i=null;return n(),i=Object.create(me.prototype,{_events:{value:{}},add:{value:n},remove:{value:function(){"onmousewheel"in window?window.removeEventListener("mousewheel",t,!1):window.removeEventListener&&window.removeEventListener("DOMMouseScroll",t,!1)}}}),Object.freeze(i)},pointerCoords:function(){function e(e){var i=e.touches&&e.touches.length?e.touches[0]:e,r=i.clientX||0,o=i.clientY||0,s=window.pageXOffset,u=window.pageYOffset;t.event=e,t.clientX=r,t.clientY=o,t.x=r+s,t.y=o+u,t.percentX=t.x/window.innerWidth,t.percentY=t.y/n()}var t=null;return t={event:null,clientX:0,clientY:0,x:0,y:0,percentX:0,percentY:0,isListening:!1,on:function(){return document.body.addEventListener("mousemove",e),document.body.addEventListener("touchmove",e),t.isListening=!0,this},off:function(){return document.body.removeEventListener("mousemove",e),document.body.removeEventListener("touchmove",e),t.isListening=!1,this}}},touchInput:function(e){function t(e){if(e&&e.touches){i.originalEvent=e;var t=e.touches[0],n=t&&t.pageX,o=t&&t.pageY;switch(e.type){case"touchstart":i.start[0]=i.move[0]=i.end[0]=i.position[0]=n,i.start[1]=i.move[1]=i.end[1]=i.position[1]=o,i.touching=!0,r.emit("start",i);break;case"touchmove":i.move[0]=i.position[0]=n,i.move[1]=i.position[1]=o,r.emit("move",i);break;case"touchend":i.end[0]=i.position[0]=n,i.end[1]=i.position[1]=o,i.touching=!1,r.emit("end",i)}}}function n(n){return(e=n||e).addEventListener("touchstart",t),e.addEventListener("touchmove",t),e.addEventListener("touchend",t),r}var i={start:[-1,-1],move:[-1,-1],end:[-1,-1],position:[-1,-1],distance:[0,0],direction:["none","none"],touching:!1,originalEvent:null},r=null;return n(e=e||document.body),r=Object.create(me.prototype,{_events:{value:{}},listen:{value:n},isDown:{value:function(){return i.touching}},getTouch:{value:function(){return i}},destroy:{value:function(){return r.removeAllListeners(),e.removeEventListener("touchstart",t),e.removeEventListener("touchmove",t),e.removeEventListener("touchend",t),e=null,r}}}),Object.freeze(r)}},ot=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments[2];he(this,e),this._fn=t,this._once=n,this._thisArg=i,this._next=this._prev=this._owner=null}return e.prototype.detach=function(){return null!==this._owner&&(this._owner.detach(this),!0)},e}(),st=function(){function e(){he(this,e),this._head=this._tail=void 0}return e.prototype.handlers=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._head;if(e)return!!t;for(var n=[];t;)n.push(t),t=t._next;return n},e.prototype.has=function(e){if(!(e instanceof ot))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return e._owner===this},e.prototype.dispatch=function(){var e=this._head;if(!e)return!1;for(;e;)e._once&&this.detach(e),e._fn.apply(e._thisArg,arguments),e=e._next;return!0},e.prototype.add=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("function"!=typeof e)throw new Error("MiniSignal#add(): First arg must be a Function.");return Y(this,new ot(e,!1,t))},e.prototype.once=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("function"!=typeof e)throw new Error("MiniSignal#once(): First arg must be a Function.");return Y(this,new ot(e,!0,t))},e.prototype.detach=function(e){if(!(e instanceof ot))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return e._owner!==this?this:(e._prev&&(e._prev._next=e._next),e._next&&(e._next._prev=e._prev),e===this._head?(this._head=e._next,null===e._next&&(this._tail=null)):e===this._tail&&(this._tail=e._prev,this._tail._next=null),e._owner=null,this)},e.prototype.detachAll=function(){var e=this._head;if(!e)return this;for(this._head=this._tail=null;e;)e._owner=null,e=e._next;return this},e}(),ut=function(){function e(){he(this,e),this.update=this.update.bind(this),this.onUpdate=new st,this.raf=null,this.running=!1,this.last=0,this.delta=0,this.elasped=0,this.deltaSecs=0,this.elaspedSecs=0}return e.prototype.start=function(){this.running||(this.running=!0,this.update())},e.prototype.stop=function(){this.running&&(this.last=0,this.running=!1,window.cancelAnimationFrame(this.raf))},e.prototype.update=function(){if(this.running){this.raf=window.requestAnimationFrame(this.update);var e=Date.now(),t=e-this.last;t>20&&(t=20),this.last=e,this.delta=.06*t,this.elasped+=this.delta,this.deltaSecs=.001*t,this.elaspedSecs+=this.deltaSecs,this.onUpdate.dispatch(this.delta,this.elasped)}},e.prototype.add=function(e,t){return this.onUpdate.add(e,t)},e.prototype.remove=function(e){this.onUpdate.detach(e)},e}(),at=180/Math.PI,ct=Math.PI/180,dt=2*Math.PI,ht={angle:function(e,t,n,i){var r=n-e,o=i-t;return Math.atan2(o,r)},cerp:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.3,i=(1-Math.cos(n*Math.PI))/2;return e*(1-i)+t*i},circleDistribution:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:0,y:0},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{x:0,y:0},i=Math.sqrt(Math.random())*e,r=Math.random()*Math.PI*2;return n.x=t.x+Math.cos(r)*i,n.y=t.y+Math.sin(r)*i,n},clamp:Q,coinToss:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Math.random()>.5?e:t},crossProduct2d:function(e,t,n,i){return e*i-t*n},degrees:function(e){return e*at},difference:function(e,t){return Math.abs(e-t)},distance:function(e,t,n,i){var r=e-n,o=t-i;return Math.sqrt(r*r+o*o)},distanceSq:function(e,t,n,i){var r=e-n,o=t-i;return r*r+o*o},dotProduct2d:function(e,t,n,i){return e*n+t*i},getCirclePoints:function(e,t,n,i,r,o){void 0===r&&(r=-Math.PI/2);for(var s=[],u=2*Math.PI,a=u/i,c=r;c<u+r;c+=a){var d=void 0===o?{}:new o;d.x=e+n*Math.cos(c),d.y=t+n*Math.sin(c),s.push(d)}return s},getIntersectionArea:function(e,t,n,i,r,o,s,u){return Math.max(0,Math.min(e+n,r+s)-Math.max(e,r))*Math.max(0,Math.min(t+i,o+u)-Math.max(t,o))},getOverlapX:function(e,t,n,i){return Math.max(0,Math.min(e+t,n+i)-Math.max(e,n))},getOverlapY:function(e,t,n,i){return Math.max(0,Math.min(e+t,n+i)-Math.max(e,n))},lerp:function(e,t){return e+(t-e)*(arguments.length>2&&void 0!==arguments[2]?arguments[2]:.3)},map:function(e,t,n,i,r){return e===t?i:(e-t)*(r-i)/(n-t)+i},normalize:function(e,t,n){return(e-t)/(n-t)},orientation:function(e,t){return Math.atan2(t,e)},percentRemaining:function(e,t){return e%t/t},perspective:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;return t/(t+e)},quadraticCurve:function(e,t,n,i,r,o){var s=[e,t],u=0,a=0;arguments.length>6&&void 0!==arguments[6]&&arguments[6]&&(n=2*n-(e+r)/2,i=2*i-(t+o)/2);for(var c=1;c<=20;++c){var d=c/20;u=e+(n-e)*d,a=t+(i-t)*d,s.push(u+(n+(r-n)*d-u)*d,a+(i+(o-i)*d-a)*d)}return s},radians:function(e){return e*ct},random:K,randomInt:function(e,t){return Math.floor(e+Math.random()*(t-e+1))},randomSign:function(){return Math.random()>.5?-1:1},rotatePoint:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{x:0,y:0},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{x:0,y:0},r=Math.sin(t),o=Math.cos(t);return i.x=(e.x-n.x)*o-(e.y-n.y)*r,i.y=(e.x-n.x)*r+(e.y-n.y)*o,i.x+=n.x,i.y+=n.y,i},rotateToDeg:function(e,t){var n=(t-e)%360;return n!==n%180&&(n=n<0?n+360:n-360),e+n},rotateToRad:function(e,t){var n=(t-e)%dt;return n!==n%Math.PI&&(n=n<0?n+dt:n-dt),e+n},roundTo:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=Math.pow(10,t);return Math.round(e*n)/n},roundToNearest:function(e,t){return Math.round(e/t)*t},smerp:function(e,t,n,i,r){return e+(t-e)*J(n,i,r)},smoothstep:J,size:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"cover",r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=X(i,e.width,e.height,t,n),s=Math.ceil(e.width*o),u=Math.ceil(e.height*o),a=0,c=0;return r&&(a=Math.round(.5*(t-s)),c=Math.round(.5*(n-u))),{x:a,y:c,width:s,height:u,scale:o}},splitValueAndUnit:function(e){var t=/(^-?\d*\.?\d*)(.*)/,n=e.match(t);return{value:Number(n[1]),unit:n[2]}},weightedAverage:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return(e*(n-1)+t)/n},weightedDistribution:function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,i=0,r=0;r<n;r++)i+=K(e,t);return i/n}},lt="undefined"!=typeof document&&document.createElement("video"),ft={canPlay:[{type:"ogv",codec:'video/ogg; codecs="theora"'},{type:"mp4",codec:'video/mp4; codecs="avc1.42E01E"'},{type:"webm",codec:'video/webm; codecs="vp8, vorbis"'},{type:"vp9",codec:'video/webm; codecs="vp9"'},{type:"hls",codec:'application/x-mpegURL; codecs="avc1.42E01E"'},{type:"ogg",codec:'audio/ogg; codecs="vorbis"'},{type:"mp3",codec:"audio/mpeg;"},{type:"opus",codec:'audio/ogg; codecs="opus"'},{type:"wav",codec:'audio/wav; codecs="1"'}].reduce(function(e,t){return e[t.type]=!!(lt&&lt.canPlayType&&lt.canPlayType(t.codec)),e},{}),cuepointsReader:function(){function e(){return s=0,u=-1,r}function t(e,t,n){if(e>t)return!1;if(e<=n)return!1;var i=e-t;return i<0&&(i=-i),i<=a}function n(e,n){e<=n||"function"==typeof o&&i.some(function(i){return!!t(i.position,e,n)&&(o(i),!0)})}var i=[],r=null,o=void 0,s=0,u=-1,a=.2;return r=Object.freeze({add:function(e,t,n){return i.push({position:e,name:t,data:n}),i.sort(function(e,t){return e.position-t.position}),r},onCuepoint:function(e,t){return o=e?t?e.bind(t):e:null,r},removeAll:function(){return i.length=0,e()},reset:e,setTolerance:function(e){return a=e,r},update:function(e){return s=e,n(s,u),u=s,r}})},iOSPlayVideoInline:function(e){function t(t){return e.currentTime=t,s}function n(){return a=!1,s}function i(){if(a){window.requestAnimationFrame(i);var s=Date.now();if(s-u>=1e3*o){u=s;var c=e.currentTime+o>=e.duration;c&&r?t(0):c?n():t(e.currentTime+o)}}}var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=.04,s=null,u=0,a=!1;return document.styleSheets[0].insertRule(".iOSPlayVideoInline::-webkit-media-controls { display:none !important; }",0),e.removeAttribute("controls"),e.classList.add("iOSPlayVideoInline"),s=Object.create(null,{_events:{value:{}},destroy:{value:function(){return n(),window.cancelAnimationFrame(i),s}},pause:{value:n},play:{value:function(){return a=!0,i(),s}},seek:{value:t},el:{get:function(){return e}},currentTime:{get:function(){return e.currentTime}},duration:{get:function(){return e.duration}},loop:{get:function(){return r},set:function(e){r=e}},playing:{get:function(){return a}}}),Object.freeze(s)},videoPlayer:function(e){function t(){h.emit("metadata",{src:d.currentSrc,width:d.videoWidth,height:d.videoHeight,duration:d.duration})}function n(){h.emit("ready")}function i(){h.emit("play")}function r(){h.emit("ended")}function o(){h.emit("error",d.error)}function s(){h.emit("timeupdate",d.currentTime)}function u(){d.removeEventListener("loadedmetadata",t),d.removeEventListener("canplaythrough",n),d.removeEventListener("play",i),d.removeEventListener("playing",i),d.removeEventListener("error",o),d.removeEventListener("ended",r),d.removeEventListener("timeupdate",s)}function a(){u(),d.addEventListener("loadedmetadata",t,!1),d.addEventListener("canplaythrough",n,!1),d.addEventListener("play",i,!1),d.addEventListener("playing",i,!1),d.addEventListener("error",o,!1),d.addEventListener("ended",r,!1),d.addEventListener("timeupdate",s,!1)}function c(e){function t(){d.removeEventListener("canplaythrough",t),window.URL.revokeObjectURL(e)}return e=window.URL.createObjectURL(e),d.addEventListener("canplaythrough",t),e}var d=e||document.createElement("video"),h=null;return a(),h=Object.create(me.prototype,{_events:{value:{}},destroy:{value:function(){h.off(),d.pause();try{d.removeAttribute("src")}catch(e){}return u(),d.parentElement&&d.parentElement.removeChild(d),d=null,h}},load:{value:function(e){return window.Blob&&e instanceof window.Blob&&(e=c(e)),a(),d.crossOrigin="anonymous",d.preload="auto",d.src=e,d.load(),h}},pause:{value:function(){return d.pause(),h}},play:{value:function(){return d.play(),h}},seek:{value:function(e){try{d.currentTime=e}catch(e){}return h}},el:{get:function(){return d}},currentTime:{get:function(){return d.currentTime},set:function(e){d.currentTime=e}},duration:{get:function(){return d.duration}},volume:{get:function(){return d.volume},set:function(e){d.volume=e}}}),Object.freeze(h)},vimeo:function(e){function t(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n={method:e};t&&(n.value=t);var i=JSON.stringify(n);a.postMessage(i,h)}function n(){t("addEventListener","play"),t("addEventListener","pause"),t("addEventListener","finish"),t("addEventListener","playProgress"),d.emit("ready")}function i(){l=!1,d.emit("play")}function r(){l=!0,d.emit("pause")}function o(){d.emit("ended")}function s(e){d.emit("timeupdate",e.seconds)}function u(t){if(c.test(t.origin)){var u=JSON.parse(t.data);if(!u.player_id||e.id===u.player_id)switch("*"===h&&(h=t.origin),u.event){case"ready":n(u.player_id);break;case"playProgress":s(u.data);break;case"play":i();break;case"pause":r();break;case"finish":o()}}}var a=e.contentWindow,c=/^https?:\/\/player.vimeo.com/,d=null,h="*",l=!1;return window.addEventListener("message",u),d=Object.assign(Object.create(me.prototype),{_events:{},play:function(){l=!1,t("play")},pause:function(){l=!0,t("pause")},paused:function(){return l},destroy:function(){window.removeEventListener("message",u)}})},youtube:function(e){function t(){r.emit("ready")}function n(e){var t=window.YT.PlayerState;switch(e.data){case t.CUED:case t.BUFFERING:break;case t.PLAYING:s=!1,r.emit("play");break;case t.PAUSED:s=!0,r.emit("pause");break;case t.ENDED:r.emit("ended")}}function i(){o||(o=new window.YT.Player(e,{events:{onReady:t,onStateChange:n}}))}var r=null,o=null,s=!1;if(window.YT)i();else if(window.ytPlayerCalls)window.ytPlayerCalls.push(i);else{window.ytPlayerCalls=[i],window.onYouTubeIframeAPIReady=function(){window.ytPlayerCalls.forEach(function(e){return e()})};var u=document.createElement("script");u.src="https://www.youtube.com/iframe_api",document.body.appendChild(u)}return r=Object.assign(Object.create(pe.EventEmitter.prototype),{_events:{},play:function(){return s=!1,o.playVideo(),r},pause:function(){return s=!0,o.pauseVideo(),r},paused:function(){return s},destroy:function(){}})},youtubeBasic:function(e){function t(e){n.postMessage('{"event":"command","func":"'+e+'","args":""}',"*")}var n=e.contentWindow;return{play:function(){t("playVideo")},pause:function(){t("pauseVideo")}}}},vt={clone:function(e){return JSON.parse(JSON.stringify(e))},filter:function(e,t){return Object.keys(e).filter(function(n){return t(n,e[n])}).reduce(function(t,n){return t[n]=e[n],t},{})},map:function(e,t){return Object.keys(e).reduce(function(n,i){return n[i]=t(i,e[i]),n},{})}},pt=Math.abs,mt=Math.atan2,gt=Math.cos,yt=Math.sin,wt=Math.sqrt,bt=function(){function e(t){he(this,e),this.opts=t,this._bounds={},this._outerBounds={},this._defaults={alive:!0,x:0,y:0,angle:0,speed:0,gravity:0,mass:1,radius:0,bounce:{x:-1,y:-1},friction:1,lifeTime:0,bounds:{x:0,y:0,width:1280,height:720}},this._props=Object.keys(this._defaults),this.reset(t)}return e.prototype.reset=function(e){for(var t=this._defaults,n=this._props,i=e||t,r=0;r<n.length;r++){var o=n[r],s=i[o]||t[o];this[o]=s,t[o]=s}var u=i.angle||t.angle,a=i.speed||t.speed;return this.vx=gt(u)*a,this.vy=yt(u)*a,this},e.prototype.update=function(){return this.vx*=this.friction,this.vy*=this.friction,this.vy+=this.gravity,this.x+=this.vx,this.y+=this.vy,this},e.prototype.accellerate=function(e,t){return void 0===t&&(t=this.angle),this.vx+=gt(t)*e,this.vy+=yt(t)*e,this},e.prototype.setBounds=function(e,t,n,i){this._bounds.x=e||0,this._bounds.y=t||0,this._bounds.width=n,this._bounds.height=i},e.prototype.angleTo=function(e){return mt(e.y-this.y,e.x-this.x)},e.prototype.distanceTo=function(e){var t=e.x-this.x,n=e.y-this.y;return wt(t*t+n*n)},e.prototype.moveTo=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.005,n=e.x-this.x,i=e.y-this.y;return this.vx+=n*t,this.vy+=i*t,pt(this.vx)>pt(n)&&(this.vx=n),pt(this.vy)>pt(i)&&(this.vy=i),this},e.prototype.gravitateTo=function(e){var t=e.x-this.x,n=e.y-this.y,i=t*t+n*n;if(i>0){var r=wt(i),o=e.mass/i,s=t/r*o,u=n/r*o;this.vx+=s,this.vy+=u}return this},e.prototype.springTo=function(e,t,n){var i=e.x-this.x,r=e.y-this.y,o=wt(i*i+r*r),s=(o-(n||0))*(t||.2);return pt(o*s)>0&&(this.vx+=i/o*s,this.vy+=r/o*s),this},e.prototype.collides=function(e){return this.distanceTo(e)<=this.radius+e.radius},e.prototype.edgeCollide=function(){var e=this._bounds.x+this.radius,t=this._bounds.x+this._bounds.width-this.radius,n=this._bounds.y+this.radius,i=this._bounds.y+this._bounds.height-this.radius;this.x<e&&(this.x=e,this.vx=this.vx*this.bounce.x),this.x>t&&(this.x=t,this.vx=this.vx*this.bounce.x),this.y<n&&(this.y=n,this.vy=this.vy*this.bounce.y),this.y>i&&(this.y=i,this.vy=this.vy*this.bounce.y)},e.prototype.edgeWrap=function(){var e=this.outerBounds,t=e.left,n=e.right,i=e.top,r=e.bottom;this.x<t&&(this.x=n),this.x>n&&(this.x=t),this.y<i&&(this.y=r),this.y>r&&(this.y=i)},e.prototype.edgeKill=function(){var e=this.outerBounds,t=e.left,n=e.right,i=e.top,r=e.bottom;(this.x<t||this.x>n||this.y<i||this.y>r)&&(this.alive=!1)},e.prototype.edgeReset=function(){var e=this.outerBounds,t=e.left,n=e.right,i=e.top,r=e.bottom;(this.x<t||this.x>n||this.y<i||this.y>r)&&this.reset()},e.prototype.lifeKill=function(){this.lifeTime--,this.lifeTime<=0&&(this.alive=!1)},le(e,[{key:"speed",get:function(){return 0===this.vx&&0===this.vy?0:wt(this.vx*this.vx+this.vy*this.vy)},set:function(e){var t=this.angle;this.vx=gt(t)*e,this.vy=yt(t)*e}},{key:"angle",get:function(){return 0===this.vx&&0===this.vy?0:mt(this.vy,this.vx)},set:function(e){var t=this.speed;this.vx=gt(e)*t,this.vy=yt(e)*t}},{key:"bounds",get:function(){return this._bounds},set:function(e){var t=e.x,n=e.y,i=e.width,r=e.height;this.setBounds(t,n,i,r)}},{key:"left",get:function(){return this.x-this.radius}},{key:"right",get:function(){return this.x+this.radius}},{key:"top",get:function(){return this.y-this.radius}},{key:"bottom",get:function(){return this.y+this.radius}},{key:"outerBounds",get:function(){return this._outerBounds.left=this._bounds.x-this.radius,this._outerBounds.right=this._bounds.x+this._bounds.width+this.radius,this._outerBounds.top=this._bounds.y-this.radius,this._outerBounds.bottom=this._bounds.y+this._bounds.height+this.radius,this._outerBounds}}]),e}(),xt=function(){function e(t){he(this,e),t||(t=function(){return new bt}),this.update=this.update.bind(this),this.list=G(),this.pool=$(t)}return e.prototype.create=function(e){var t=this.pool.get();return t.reset(e),this.list.add(t),t},e.prototype.add=function(e){this.list.add(e)},e.prototype.remove=function(e){this.list.remove(e),this.pool.dispose(e)},e.prototype.forEach=function(e){for(var t=this.list.first;t;)e(t),t=t.next},e.prototype.update=function(e){for(var t=this.list.first;t;){var n=t.next;t.update(),"function"==typeof e&&e(t),t.alive||this.remove(t),t=n}},e}(),Et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined"!=typeof navigator&&navigator.userAgent;return/Android/i.test(e)},_t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined"!=typeof navigator&&navigator.userAgent;return/iP[ao]d|iPhone/i.test(e)},Ct=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined"!=typeof navigator&&navigator.userAgent;return/Android|webOS|iPhone|iP[ao]d|BlackBerry|IEMobile|Opera Mini|Windows Phone|SymbianOS/i.test(e)},Lt="undefined"!=typeof window,Ot={width:Lt?Math.max(window.outerWidth,window.screen.width):0,height:Lt?Math.max(window.outerHeight,window.screen.height):0,dpr:Lt?window.devicePixelRatio||1:1,retina:!!Lt&&window.devicePixelRatio>1},At=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined"!=typeof navigator&&navigator.userAgent;return/Windows Phone/i.test(e)},Mt={android:Et(),androidNative:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined"!=typeof navigator&&navigator.userAgent;if(!Et(e))return!1;var t=e.indexOf("Mozilla/5.0")>-1&&e.indexOf("AppleWebKit")>-1,n=/AppleWebKit\/([\d.]+)/,i=n.exec(e)?parseFloat(n.exec(e)[1]):null,r=/Chrome\/([\d.]+)/,o=r.exec(e)?parseFloat(r.exec(e)[1]):null;return t&&i&&i<537||o&&o<37}(),androidVersion:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined"!=typeof navigator&&navigator.userAgent;if(!Et(e))return 0;var t=e.match(/Android (\d+(?:\.\d+)+);/)[1].split("."),n=t[0],i=t[1];return parseFloat(n+"."+i)}(),chromeIOS:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined"!=typeof navigator&&navigator.userAgent;return _t(e)&&/CriOS/.test(e)}(),desktop:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined"!=typeof navigator&&navigator.userAgent;return!Ct(e)}(),deviceOrientation:!("undefined"==typeof window||!window.DeviceOrientationEvent),firefox:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined"!=typeof navigator&&navigator.userAgent;return/Firefox/.test(e)}(),ie:function(){return Z(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined"!=typeof navigator&&navigator.userAgent)>0}(),ieVersion:Z(),ios:_t(),iosVersion:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined"!=typeof navigator&&navigator.userAgent;if(_t(e)){var t=e.match(/OS (\d+)_(\d+)/i),n=t[1],i=t[2];if(n&&i)return parseFloat(n+"."+i)}return 0}(),ipad:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined"!=typeof navigator&&navigator.userAgent;return/iPad/i.test(e)}(),iphone:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined"!=typeof navigator&&navigator.userAgent;return/iPod|iPhone/i.test(e)}(),linux:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined"!=typeof navigator&&navigator.userAgent;return!Et(e)&&/Linux/.test(e)}(),localHost:Ze(),mac:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined"!=typeof navigator&&navigator.userAgent;return!_t(e)&&/Mac OS/.test(e)}(),mobile:Ct(),mp4:function(){var e="undefined"!=typeof document&&document.createElement("video");return!!(e&&e.canPlayType&&e.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"'))}(),safari:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined"!=typeof navigator&&navigator.userAgent;return!/Android/.test(e)&&!/Chrome/.test(e)&&/Safari/.test(e)}(),safariIOS:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined"!=typeof navigator&&navigator.userAgent;return _t(e)&&/AppleWebKit/.test(e)}(),screen:Ot,webgl:function(){try{var e=document.createElement("canvas"),t=e.getContext("webgl")||e.getContext("experimental-webgl");return!(!window.WebGLRenderingContext||!t)}catch(e){return!1}}(),webm:function(){var e="undefined"!=typeof document&&document.createElement("video");return!!(e&&e.canPlayType&&e.canPlayType('video/webm; codecs="vp8, vorbis"'))}(),windows:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined"!=typeof navigator&&navigator.userAgent;return!At(e)&&/Windows/.test(e)}(),windowsPhone:At()},It=function(){function e(t,n,i,r){he(this,e),this._bounds=t,this._depth=n,this._maxDepth=i,this._maxChildren=r,this.children=[],this.nodes=[]}return e.prototype.insert=function(e){if(this.nodes.length){var t=this._findIndex(e);this.nodes[t].insert(e)}else if(this.children.push(e),!(this._depth>=this._maxDepth)&&this.children.length>this._maxChildren){this.subdivide();for(var n=0;n<this.children.length;n++)this.insert(this.children[n]);this.children.length=0}},e.prototype.retrieve=function(e){if(this.nodes.length){var t=this._findIndex(e);return this.nodes[t].retrieve(e)}return this.children},e.prototype._findIndex=function(t){var n=this._bounds,i=n.x,r=n.y,o=n.width,s=n.height,u=t.x>i+o/2,a=t.y>r+s/2;return u?a?e.BR:e.TR:a?e.BL:e.TL},e.prototype.subdivide=function(){var t=this._depth+1,n=this._bounds,i=n.x,r=n.y,o=n.width/2,s=n.height/2;this.nodes[e.TL]=new e({x:i,y:r,width:o,height:s},t,this._maxDepth,this._maxChildren),this.nodes[e.TR]=new e({x:i+o,y:r,width:o,height:s},t,this._maxDepth,this._maxChildren),this.nodes[e.BL]=new e({x:i,y:r+s,width:o,height:s},t,this._maxDepth,this._maxChildren),this.nodes[e.BR]=new e({x:i+o,y:r+s,width:o,height:s},t,this._maxDepth,this._maxChildren)},e.prototype.clear=function(){for(this.children.length=0;this.nodes.length;)this.nodes.pop().clear()},e}();It.TL=0,It.TR=1,It.BL=2,It.BR=3;var St=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;he(this,e),this.root=new It(t,0,n,i)}return e.prototype.insert=function(e){if(Array.isArray(e))for(var t=0;t<e.length;t++)this.root.insert(e[t]);else this.root.insert(e)},e.prototype.clear=function(){this.root.clear()},e.prototype.retrieve=function(e){return this.root.retrieve(e)},e}(),Tt={email:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";e=encodeURIComponent(e),t=encodeURIComponent(t);var i=encodeURIComponent("\r\n\r\n");return n=n?""+encodeURIComponent(n)+i:"",ee("mailto:?subject="+t+"&body="+n+e)},facebook:function(e){return e=encodeURIComponent(e),ee("https://www.facebook.com/sharer/sharer.php?u="+e)},googleplus:function(e){return e=encodeURIComponent(e),ee("https://plus.google.com/share?url="+e)},linkedin:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e=encodeURIComponent(e),t=encodeURIComponent(t),ee("https://www.linkedin.com/shareArticle?mini=true&url="+e+"&title="+t)},pinterest:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return e=encodeURIComponent(e),t=encodeURIComponent(t),n=encodeURIComponent(n),ee("https://pinterest.com/pin/create/button/?url="+e+"&media="+t+"&description="+n)},reddit:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e=encodeURIComponent(e),t=encodeURIComponent(t),ee("https://www.reddit.com/submit?url="+e+"&title="+t)},renren:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e=encodeURIComponent(e),t=encodeURIComponent(t),ee("http://share.renren.com/share/buttonshare.do?link="+e+"&title="+t)},sms:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";e=encodeURIComponent(e);var n=encodeURIComponent("\r\n\r\n");t=t?""+encodeURIComponent(t)+n:"";var i=/iP[ao]d|iPhone/i.test(navigator.userAgent)?"&":"?";window.location.href="sms:"+i+"body="+t+e},twitter:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return e=encodeURIComponent(e),t=encodeURIComponent(t),n=encodeURIComponent(n),i=encodeURIComponent(i),ee("https://twitter.com/intent/tweet?url="+e+"&text="+t+"&hashtags="+n+"&related="+i)},vkontakte:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return e=encodeURIComponent(e),t=encodeURIComponent(t),n=encodeURIComponent(n),i=encodeURIComponent(i),ee("http://vkontakte.ru/share.php?url="+e+"&title="+t+"&description="+n+"&image="+i)},weibo:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return ee("http://service.weibo.com/share/share.php?url="+(e=encodeURIComponent(e))+"&appkey=&title="+(t=encodeURIComponent(t))+"&pic="+(n=encodeURIComponent(n))+"&ralateUid=&language=zh_cn")},whatsapp:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";e=encodeURIComponent(e);var n=encodeURIComponent("\r\n\r\n");t=t?""+encodeURIComponent(t)+n:"",window.location.href="whatsapp://send?text="+t+e}},kt={load:te,save:ne,loadJSON:function(e){var t=te(e);return t?JSON.parse(t):null},saveJSON:function(e,t){return ne(e,JSON.stringify(t))},remove:function(e){try{localStorage.removeItem(e)}catch(e){}}},Pt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},Rt={afterFirst:function(e,t){var n=e.indexOf(t);return-1===n?"":(n+=t.length,e.slice(n))},afterLast:function(e,t){var n=e.lastIndexOf(t);return-1===n?"":(n+=t.length,e.slice(n))},beforeFirst:function(e,t){var n=e.indexOf(t);return-1===n?"":e.slice(0,n)},beforeLast:function(e,t){var n=e.lastIndexOf(t);return-1===n?"":e.slice(0,n)},beginsWith:function(e,t){return 0===e.indexOf(t)},between:function(e,t,n){var i="",r=e.indexOf(t);if(-1!==r){r+=t.length;var o=e.indexOf(n,r);-1!==o&&(i=e.slice(r,o))}return i},block:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".",i=[];if(!e||!e.includes(n))return i;" "===n&&(e+=n);for(var r=0,o=new RegExp("[^"+ie(n)+"]+$");r<e.length;){var s=e.substr(r,t);s.includes(n)||(i.push(re(s,s.length)),r+=s.length),r+=(s=s.replace(o,"")).length,i.push(s.trim())}return i},capitalize:oe,countOf:function(e,t,n){var i=ie(t),r=n?"g":"ig";return e.match(new RegExp(i,r)).length},editDistance:se,endsWith:function(e,t){return e.lastIndexOf(t)===e.length-t.length},escapeHTML:function(e){return String(e).replace(/[&<>"'`=\/]/g,function(e){return Pt[e]})},escapePattern:ie,hasText:function(e){return!!ue(e).length},isNumeric:function(e){return/^[-+]?\d*\.?\d+(?:[eE][-+]?\d+)?$/.test(e)},padLeft:function(e,t,n){for(e=String(e);e.length<n;)e=t+e;return e},padRight:function(e,t,n){for(e=String(e);e.length<n;)e+=t;return e},preventWidow:function(e){var t=(e=e.trim()).lastIndexOf(" ");return t>0?e.slice(0,t)+"&nbsp;"+e.slice(t+1):e},properCase:function(e){return e.toLowerCase().replace(/\b([^.?;!]+)/,oe).replace(/\b[i]\b/,"I")},remove:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=ie(t),r=n?"g":"ig";return e.replace(new RegExp(i,r),"")},removeExtraWhitespace:ue,reverse:function(e){return e.split("").reverse().join("")},reverseWords:function(e){return e.split(" ").reverse().join(" ")},similarity:function(e,t){var n=se(e,t),i=Math.max(e.length,t.length);return 0===i?1:1-n/i},stripTags:function(e){return e.replace(/<\/?[^>]+>/gim,"")},swapCase:function(e){return e.replace(/(\w)/,function(e){var t=e.toLowerCase(),n=e.toUpperCase();switch(e){case t:return n;case n:return t;default:return e}})},timeCode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:":",n=Math.floor(e/3600),i=Math.floor(e%3600/60),r=Math.floor(e%3600%60);return(n<10?"0"+n:n)+t+((i<10?"0"+i:i)+t)+(r<10?"0"+r:r)},toNumber:function(e){return Number(e.replace(/[^0-9.]/g,""))},truncate:re,wordCount:function(e){return e.match(/\b\w+\b/g).length}},Ut={event:function(e,t,n,i){window.ga&&window.ga("send","event",e,t,n,i)},pageview:function(e){window.ga&&window.ga("send","pageview",e)},load:function(e){!function(e,t,n,i,r,o,s){e.GoogleAnalyticsObject=r,e[r]=e[r]||function(){(e[r].q=e[r].q||[]).push(arguments)},e[r].l=1*new Date,o=t.createElement(n),s=t.getElementsByTagName(n)[0],o.async=1,o.src="//www.google-analytics.com/analytics.js",s.parentNode.insertBefore(o,s)}(window,document,"script",0,"ga"),window.ga("create",e,"auto"),window.ga("send","pageview")}},Nt=function(){function e(t,n,i,r){he(this,e),this.ob=t,n&&this.to(n,i,r)}return e.prototype.to=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.duration=t,this.ease=n.ease||S,this.delay=n.delay||0,this.onUpdate=n.onUpdate,this.onComplete=n.onComplete,this.time=0,this.complete=!1,this._props=Object.keys(e),this._beginVals={},this._changeVals={};for(var i=0;i<this._props.length;i++){var r=this._props[i];this._beginVals[r]=this.ob[r],this._changeVals[r]=e[r]-this._beginVals[r]}},e.prototype.update=function(e){if(this.time!==this.duration)if(this.delay>0)this.delay-=e;else{this.time+=e,this.time>this.duration&&(this.time=this.duration);for(var t=0;t<this._props.length;t++){var n=this._props[t];this.ob[n]=this.ease(this.time,this._beginVals[n],this._changeVals[n],this.duration)}this.onUpdate&&this.onUpdate(this.ob),this.time===this.duration&&(this.complete=!0,this.onComplete&&this.onComplete(this.ob))}},e.prototype.reset=function(){this.time=0,this.complete=!1},e}(),Ft=null,Dt=null;"undefined"!=typeof document&&(void 0!==document.hidden?(Ft="hidden",Dt="visibilitychange"):void 0!==document.mozHidden?(Ft="mozHidden",Dt="mozvisibilitychange"):void 0!==document.msHidden?(Ft="msHidden",Dt="msvisibilitychange"):void 0!==document.webkitHidden&&(Ft="webkitHidden",Dt="webkitvisibilitychange"));var jt={hidden:Ft,change:Dt},Bt=Object.create(me.prototype,{hidden:{get:function(){return document[jt.hidden]}}});return jt.change&&document.addEventListener(jt.change,function(){document[jt.hidden]?Bt.emit("hidden"):Bt.emit("shown")},!1),{array:ce,dom:ye,ease:ze,events:He,fullscreen:Je,graphics:$e,gui:q,http:nt,input:rt,linkedList:G,Loop:ut,math:ht,media:ft,object:vt,objectPool:$,Particle:bt,ParticleGroup:xt,platform:Mt,popup:ee,QuadTree:St,share:Tt,storage:kt,string:Rt,Tween:Nt,track:Ut,visibility:Bt}});
